import java.text.SimpleDateFormat
def JENKINS_SLAVE_IMAGE = "dotnet-31-jenkins-agent-rhel7"
def selectTag
def releaseTag
def tag
def UAT_PROJECT = "uat"
def CICD_PROJECT = "ci-cd"

node {
  def dateFormat = new SimpleDateFormat("yyyyMMdd")
  def date = new Date()
  def releaseDate = (dateFormat.format(date))
  tag = releaseDate + "-" + env.BUILD_NUMBER
  
}
pipeline {
  agent none
  options {
    timeout(time: 30, unit: 'MINUTES')
  }
  environment {
    imageName="backend"
  }
  stages {  
    
	stage('Checkout Source') {
	  steps {
		script {
		  def  FILES_LIST = sh (script: "ls   '${env.WORKSPACE}'", returnStdout: true).trim()
		  //DEBUG
          echo "FILES_LIST : ${FILES_LIST}"
          //PARSING
          for(String ele : FILES_LIST.split("\\r?\\n")){ 
            println ">>>${ele}<<<"     
          }
		}
	  }
	}
	

	
	
  }
}
